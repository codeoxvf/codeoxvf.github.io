(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){"use strict";a.r(t);var n,i=a(0),o=a.n(i),r=a(8),s=a.n(r),l=a(2),c=a(3),u=a(1),h=a(5),p=a(4),m=a(6),y=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={adding:!1,players:[],validName:!1},n.handleClick=n.handleClick.bind(Object(u.a)(n)),n.validateName=n.validateName.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"handleClick",value:function(){this.setState({adding:!0,validName:!1})}},{key:"validateName",value:function(e){var t=e.target.value;t.length>0&&!this.state.players.includes(t)?this.setState({validName:!0}):this.setState({validName:!1})}},{key:"handleSubmit",value:function(e){this.setState({adding:!1,players:[].concat(Object(m.a)(this.state.players),[e.target.elements.playerName.value])}),e.preventDefault()}},{key:"render",value:function(){for(var e=this,t=[],a=0;a<this.state.players.length;a++)t.push(o.a.createElement("div",{className:"list-group-item",key:"player"+a},this.state.players[a]));return o.a.createElement("div",{className:"container text-center"},o.a.createElement("button",{className:"btn btn-primary btn-lg my-1",onClick:this.handleClick},"Add Player"),o.a.createElement("div",{className:"my-1"},this.state.players.length," players:",o.a.createElement("div",{className:"list-group list-group-horizontal justify-content-center"},t)),this.state.adding?o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("input",{id:"playerName",className:"form-control",type:"text",placeholder:"Player name",onChange:this.validateName}),o.a.createElement("button",{className:"btn btn-primary my-1",type:"submit",disabled:!this.state.validName},"Add")):null,o.a.createElement("button",{className:"btn btn-primary btn-lg my-1",onClick:function(){return e.props.onSubmit(e.state.players)},disabled:!this.state.players.length},"Choose Roles"))}}]),a}(o.a.Component);!function(e){e[e.Player=0]="Player",e[e.Boolean=1]="Boolean"}(n||(n={}));var d=n;var f={Villager:{name:"Villager",description:"You are a regular Villager. You don\u2019t have any special actions.",affiliation:"Town",input:[],action:function(e,t){}},Mafioso:{name:"Mafioso",description:"Each night you may vote alongside the rest of the mafia on who to kill.",affiliation:"Mafia",prompt:["Choose a player to kill."],input:[d.Player],action:function(e,t){var a=function(e){var t=[];return e.forEach(function(e,a){t.push({name:e.name,role:e.role,alive:e.alive})}),t}(e);return a[t[0]].alive=!1,a}},Sheriff:{name:"Sheriff",description:"Once per night you may check a player to determine whether they are suspicious.",affiliation:"Town",prompt:["Choose a player to investigate."],input:[d.Player],action:function(e,t){return"Mafia"===f[e[t[0]].role].affiliation},displayTrue:"%playerName is Suspicious.",displayFalse:"%playerName is Not Suspicious."},Investigator:{name:"Investigator",description:"Twice per game you may choose to find out the exact role of another player.",affiliation:"Town"},Vigilante:{name:"Vigilante",description:"You have two bullets. Once per night you may choose to shoot a bullet at someone. If you shoot an innocent person you will die from guilt the following night",affiliation:"Town"},Veteran:{name:"Veteran",description:"You may go on Alert twice per game. While on Alert you gain night immunity and will kill anyone visiting you.",affiliation:"Town"},Doctor:{name:"Doctor",description:"Each night pick someone to visit. If they are harmed in any way you will prevent them from dying.",affiliation:"Town"},Escort:{name:"Escort",description:"Each night, you may prevent any other person from performing their night action.",affiliation:"Town"},Spy:{name:"Spy",description:"You can see who the Mafia visit each night.",affiliation:"Town"},Lookout:{name:"Lookout",description:"Each night you may camp outside someone\u2019s house to determine who visited them throughout the night.",affiliation:"Town"},Framer:{name:"Framer",description:"Each night you may pick someone to frame, if the target picked is investigated, they will show up to be suspicious. If you instead pick a fellow Mafia, they will show up as not suspicious when investigated.",affiliation:"Mafia"},Janitor:{name:"Janitor",description:"Twice per game, while the Mafia is deciding who to kill, you may choose to clean the body afterwards, which prevents the target\u2019s role from being shared publicly and allows you to see it the next night.",affiliation:"Mafia"},Godfather:{name:"Godfather",description:"Each night you may vote alongside the rest of the mafia on who to kill. If there is a tie vote your vote is the deciding vote. (You cannot be killed at night) (You will appear to be \u201cNot Suspicious\u201d to the Sheriff).",affiliation:"Mafia"},Consort:{name:"Consort",description:"Each night, you may prevent any other person from performing their night action.",affiliation:"Mafia"},Consigliere:{name:"Consigliere",description:"Each night you may choose to find out the exact role of another player.",affiliation:"Mafia"},Disguiser:{name:"Disguiser",description:"Each night you may choose to disguise as another player\u2019s role, if you are killed you will appear to be that role..",affiliation:"Mafia"},Jester:{name:"Jester",description:"If you get executed during the day you win.",affiliation:"Neutral"},SerialKiller:{name:"Serial Killer",description:"Each night, pick someone to kill. (You cannot be killed at night) (If you are roleblocked by the Escort or Consort you will kill them instead).",affiliation:"Neutral",role:"Killing"},Executioner:{name:"Executioner",description:"You will be assigned a target at the start of the game. If you get them executed during the day you win. Your target will always be (Town).",affiliation:"Neutral"},Witch:{name:"Witch",description:"Each night you can force another person to use their night action on another person. You will also learn their role whilst doing so. (You win if the town loses) (You will appear to be \u201cNot Suspicious\u201d to the Sheriff).",affiliation:"Neutral"},Medium:{name:"Medium",description:"Each night you can select a dead person to receive one of three people who could have killed them.",affiliation:"Town"},Mayor:{name:"Mayor",description:"At any point during the game, you may flip this card over to \u201creveal\u201d yourself as the mayor of the town. After you reveal yourself as the mayor, you votes are tripled during the day.",affiliation:"Town"},Amnesiac:{name:"Amnesiac",description:"Once during the game, you can attempt to remember your role by selecting a dead players role.  If you do not die during that night you will take that players role..",affiliation:"Neutral"},Werewolf:{name:"Werewolf",description:"On alternate nights, you may choose to rampage at any persons house (Including your own), killing the person and anyone who visits them. (Will kill both the doctor and the target if the doctor visits them).",affiliation:"Neutral",role:"Killing"},Psychic:{name:"Psychic",description:"On Odd Nights, you will receive the names of 3 people, one of whom is definitely evil. On Even Nights, you will receive the names of 2 people, one of whom is definitely good.",affiliation:"Town",role:"Investigative"},Armourer:{name:"Armourer",description:"You have 3 Disposable Armour Vest. Each night, you may choose to wear a Vest, give a vest to someone, or both..",affiliation:"Town",role:"Protective"},Locksmith:{name:"Locksmith",description:"At Night, place a lock on another person\u2019s house. That person may not visit or be visited that night. You will be alerted if your target tries to leave home or someone tries to visit your target. You may not be roleblocked.",affiliation:"Town",role:"Protective"},Trapper:{name:"Trapper",description:"At Night, you may place a trap outside someone\u2019s house. If they are visited, you will be alerted as to who visited them. It takes one night to build a trap before you can place it Your target is immune to attacks while the trap is placed.",affiliation:"Town",role:"Protective"},Blackmailer:{name:"Blackmailer",description:"At night, select a person. They will be unable to speak for the next day.",affiliation:"Mafia"},Tracker:{name:"Tracker",description:"Pick a person each night, at the end of the night you will learn whom they visited.",affiliation:"Town",role:"Investigative"},Transporter:{name:"Transporter",description:"Pick two people each night (You may pick yourself). You swap places for that night. You cannot be roleblocked.",affiliation:"Town",role:"Support"},Pacifist:{name:"Pacifist",description:"You may pick a person each night. Their vote will not count for the next day.",affiliation:"Town",role:"Support"},Bodyguard:{name:"Bodyguard",description:"You may pick a person to protect each night. If they are attacked you will kill the attacker but will die in the process. If you successfully protect someone you can still be healed.",affiliation:"Town",role:"Protective"},Pirate:{name:"Pirate",description:"Pick a person to duel each night for their treasure. Play scissors paper stone with them. If you win you will kill them and loot their treasure. If you loot the treasure from 2 people, you win.",affiliation:"Neutral",role:"Evil"},Detective:{name:"Detective",description:"Pick two players at night to visit at night. You will find out if they are on the same team. Teams: (Town, Neutral, Mafia).",affiliation:"Town",role:"Investigative"},GuardianAngel:{name:"Guardian Angel",description:"You win if your target survives. You may protect your target twice throughout the game. If your target dies you become a survivor with no vests.",affiliation:"Neutral"},Fogger:{name:"Fogger",description:"Each night you may choose to fog a person\u2019s house. Any person visiting them will be unable to perform their night action on that person.",affiliation:"Mafia",role:"Support"}},g=f,b=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).roleNames=[];var i={};for(var o in g)n.roleNames.push(g[o].name),i[g[o].name]=!1;return n.state={selected:i},n.onSelect=n.onSelect.bind(Object(u.a)(n)),n.countSelection=n.countSelection.bind(Object(u.a)(n)),n.startGame=n.startGame.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"onSelect",value:function(e){var t=e.target.id,a=Object.assign({},this.state.selected);a[t]=!a[t],this.setState({selected:a})}},{key:"countSelection",value:function(){for(var e=Object.values(this.state.selected),t=0,a=0;a<e.length;a++)t+=e[a];return t}},{key:"startGame",value:function(){var e=this,t=Object.keys(this.state.selected).filter(function(t){return e.state.selected[t]});this.props.onSubmit(t)}},{key:"render",value:function(){var e=this,t=this.roleNames.map(function(t,a){return o.a.createElement("div",{className:"d-grid col-4",key:"btn"+a},o.a.createElement("input",{className:"btn-check",type:"checkbox",id:t,onClick:e.onSelect,onChange:e.onSelect,key:"input"+a,checked:e.state.selected[t],disabled:!e.state.selected[t]&&e.countSelection()>=e.props.players.length}),o.a.createElement("label",{className:"btn btn-outline-primary btn-lg",htmlFor:t,key:"label"+a},t))});return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"my-1"},this.props.players.length," players: ",this.props.players.join(", ")),o.a.createElement("form",{onSubmit:this.startGame},o.a.createElement("div",{className:"btn-group row my-2"},t),o.a.createElement("button",{className:"btn btn-primary btn-lg my-1",type:"submit",disabled:this.countSelection()!==this.props.players.length},"Start Game")))}}]),a}(o.a.Component),v=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={stage:0,players:[]},n.submitPlayers=n.submitPlayers.bind(Object(u.a)(n)),n.submitRoles=n.submitRoles.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"submitPlayers",value:function(e){this.setState({players:e,stage:1})}},{key:"submitRoles",value:function(e){for(var t=[],a=0;a<e.length;a++)t.push({name:this.state.players[a],role:e[a],alive:!0});this.props.onStart(t)}},{key:"render",value:function(){switch(this.state.stage){case 0:return o.a.createElement(y,{onSubmit:this.submitPlayers});case 1:return o.a.createElement(b,{onSubmit:this.submitRoles,players:this.state.players})}}}]),a}(o.a.Component);function w(e){return o.a.createElement("div",{className:"my-1"},e.player.name,":")}var k=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={newPlayers:[],actionResult:"",playerInput:[],inputIndex:0,radioChecked:!1},n.submitInput=n.submitInput.bind(Object(u.a)(n)),n.onDone=n.onDone.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"submitInput",value:function(e){e.preventDefault();var t=this.props.players[this.props.playerIndex],a=g[t.role].input,n=e.target.choice.value,i=0;if(a[this.state.inputIndex]===d.Boolean)i="yes"===n;else for(var o=0;o<this.props.players.length;o++)this.props.players[o].name===n&&(i=o);if(this.state.inputIndex===a.length-1){var r=g[t.role].action(this.props.newPlayers,[].concat(Object(m.a)(this.state.playerInput),[i]));return"boolean"===typeof r?void this.setState({playerInput:[i],actionResult:r,inputIndex:this.state.inputIndex+1}):Array.isArray(r)?void this.setState({newPlayers:r,playerInput:[i],inputIndex:this.state.inputIndex+1}):void this.setState({playerInput:[i],inputIndex:this.state.inputIndex+1,radioChecked:!1})}this.setState({playerInput:[].concat(Object(m.a)(this.state.playerInput),[i]),inputIndex:this.state.inputIndex+1,radioChecked:!1})}},{key:"onDone",value:function(){this.state.newPlayers.length?this.props.onDone(this.state.newPlayers):this.props.onDone()}},{key:"render",value:function(){var e,t=this,a=this.props.players[this.props.playerIndex];if(g[a.role].input.length)switch(g[a.role].input[this.state.inputIndex]){case d.Player:var n=[];this.props.players.filter(function(e){return e.alive&&e.name!==a.name}).forEach(function(e,t){var a=e.name;n.push(o.a.createElement("option",{value:a,key:"option"+t},a))}),e=o.a.createElement("form",{onSubmit:this.submitInput},o.a.createElement("select",{className:"form-select my-1",name:"choice"},n),o.a.createElement("input",{className:"btn btn-primary my-1",type:"submit",value:"Done"}));break;case d.Boolean:e=o.a.createElement("form",{onSubmit:this.submitInput},o.a.createElement("div",{className:"btn-group m-1"},o.a.createElement("input",{className:"btn-check",type:"radio",value:"yes",onChange:function(){t.setState({radioChecked:!0})},name:"choice",id:"yes"}),o.a.createElement("label",{className:"btn btn-outline-primary",htmlFor:"yes"},"Yes"),o.a.createElement("input",{className:"btn-check",type:"radio",value:"no",onChange:function(){t.setState({radioChecked:!0})},name:"choice",id:"no"}),o.a.createElement("label",{className:"btn btn-outline-primary",htmlFor:"no"},"No")),o.a.createElement("input",{className:"btn btn-primary my-1",type:"submit",value:"Done",disabled:!this.state.radioChecked}));break;case void 0:if(e=o.a.createElement("div",null,"You have finished your actions."),"displayTrue"in g[a.role]){var i=this.state.actionResult?g[a.role].displayTrue:g[a.role].displayFalse;"number"===typeof this.state.playerInput[0]&&(i=i.replace("%playerName",this.props.players[this.state.playerInput[0]].name)),e=o.a.createElement("div",null,i)}}else e=o.a.createElement("div",null,"You have no actions to perform.");var r=g[a.role].prompt?o.a.createElement("div",{className:"my-1"},g[a.role].prompt[this.state.inputIndex]):null;return o.a.createElement("div",{className:"container text-center"},o.a.createElement(w,{player:a}),r,e,o.a.createElement("button",{className:"btn btn-primary btn-lg my-1",onClick:this.onDone,disabled:!(this.state.inputIndex>=g[a.role].input.length)},"Done"))}}]),a}(o.a.Component);function E(e){return o.a.createElement("button",{className:"btn btn-primary btn-lg my-1",onClick:function(){e.onDone()}},"Done")}function N(e){return o.a.createElement("div",{className:"container text-center"},o.a.createElement(w,{player:e.player}),o.a.createElement("div",null,"You are the ",e.player.role,"."),o.a.createElement("div",null,g[e.player.role].description),o.a.createElement(E,{onDone:e.onDone}))}function I(e){return o.a.createElement("div",{className:"text-center"},o.a.createElement(w,{player:e.player}),o.a.createElement("button",{className:"btn btn-primary btn-lg my-1",onClick:e.onReady},"Ready"))}function S(e){var t=e.newPlayers.filter(function(e){return e.alive});if(t.filter(function(e){return g[e.role].affiliation===g[t[0].role].affiliation}).length===t.length)return o.a.createElement("div",{className:"alert alert-secondary text-center my-1"},"The ",g[t[0].role].affiliation," wins.");var a=[];return e.newPlayers.forEach(function(t,n){e.players[n].alive!==t.alive&&a.push(t.name)}),o.a.createElement("div",{className:"container text-center"},o.a.createElement("div",null,"End of night ",e.night,":"),o.a.createElement("div",{className:"alert alert-secondary my-1"},a.length?a.join(", "):"No one"," died last night. Discuss."),o.a.createElement(E,{onDone:e.onDone}))}var O=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={players:n.props.players,newPlayers:n.props.players,night:0,stage:0,playerIndex:0},n.onReady=n.onReady.bind(Object(u.a)(n)),n.onDescriptionDone=n.onDescriptionDone.bind(Object(u.a)(n)),n.onActionDone=n.onActionDone.bind(Object(u.a)(n)),n.onSummaryDone=n.onSummaryDone.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"onReady",value:function(){this.setState({stage:this.state.night?1:-1})}},{key:"onDescriptionDone",value:function(){var e=this.state.playerIndex===this.state.players.length-1;this.setState({playerIndex:e?0:this.state.playerIndex+1,night:e?this.state.night+1:this.state.night,stage:0})}},{key:"onActionDone",value:function(e){var t={};t=this.state.playerIndex===this.state.players.length-1?{stage:2,playerIndex:0}:{stage:0,playerIndex:this.state.playerIndex+1},void 0!==e&&(t.newPlayers=e),this.setState(t)}},{key:"onSummaryDone",value:function(){this.setState({players:this.state.newPlayers,night:this.state.night+1,stage:0})}},{key:"render",value:function(){var e=this.state.players[this.state.playerIndex];switch(this.state.stage){case 0:return e.alive||this.onActionDone(this.state.players),o.a.createElement(I,{player:e,onReady:this.onReady});case-1:return o.a.createElement(N,{player:e,onDone:this.onDescriptionDone});case 1:return o.a.createElement(k,{players:this.state.players,newPlayers:this.state.newPlayers,playerIndex:this.state.playerIndex,onDone:this.onActionDone});case 2:return o.a.createElement(S,{players:this.state.players,night:this.state.night,newPlayers:this.state.newPlayers,onDone:this.onSummaryDone})}}}]),a}(o.a.Component),j=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={stage:0,players:[]},n.startGame=n.startGame.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"startGame",value:function(e){this.setState({stage:1,players:e})}},{key:"render",value:function(){switch(this.state.stage){case 0:return o.a.createElement(v,{onStart:this.startGame});case 1:return o.a.createElement(O,{players:this.state.players})}}}]),a}(o.a.Component);s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(j,null)),document.getElementById("root"))},9:function(e,t,a){e.exports=a(14)}},[[9,1,2]]]);
//# sourceMappingURL=main.87282a97.chunk.js.map